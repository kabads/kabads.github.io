<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Page 3 of 28 for Kabads. Musings, mutterings and murmerings. | I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Kabads. Musings, mutterings and murmerings." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<meta property="og:description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<link rel="canonical" href="http://localhost:4000/page3/" />
<meta property="og:url" content="http://localhost:4000/page3/" />
<meta property="og:site_name" content="Kabads. Musings, mutterings and murmerings." />
<link rel="prev" href="http://localhost:4000/page2/" />
<link rel="next" href="http://localhost:4000/page4/" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Kabads. Musings, mutterings and murmerings.","url":"http://localhost:4000/page3/","description":"I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kabads. Musings, mutterings and murmerings." /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kabads. Musings, mutterings and murmerings.</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><p><a href="/categories/cycling.html">Cycling</a> |&nbsp<a href="/categories/education.html">Education</a> |&nbsp<a href="/categories/emacs.html">Emacs</a> |&nbsp<a href="/categories/exercise.html">Exercise</a> |&nbsp<a href="/categories/politics.html">Politics</a> |&nbsp<a href="/categories/reading.html">Reading</a> |&nbsp<a href="/categories/ruby.html">Ruby</a> |&nbsp<a href="/categories/sysadmin.html">Sysadmin</a> |&nbsp</p><h2 class="post-list-heading"></h2>
  <ul class="post-list"><li><span class="post-meta">Nov 11, 2019</span>
      <h3>
        <a class="post-link" href="/sysadmin/2019/11/11/how-to-create-virtual-machines-qemu.html">
          How to Create Virtual Machines With Qemu
          

        </a>
      </h3><p>This post outlines the steps needed to create a qemu environment within a machine and install virtual machines in that environment.</p>

<p>Software required:</p>
<ul>
  <li>qemu-kvm</li>
  <li>libvirt</li>
  <li>virt-install</li>
  <li>virt-manager</li>
</ul>

<p>virt-manager is a graphical interface to the resources, and is optional according to whether you run a graphical interface.</p>

<h2 id="networking">Networking</h2>
<p>One of the important tasks before installing a virtual machine is to set up the virtual networking. This means that as the VM installs, it can work with the networking.</p>

<p>Usually, libvirt comes with a default network bridge which starts when you start the libvirtd service. This appears as virbr0.</p>

<p>To find out what is the name of the bridge, you can use a tool:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brctl show
</code></pre></div></div>

<h3 id="bridge-control">Bridge Control</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brctl show
brctl addbr br0
brctl stp br0 on
</code></pre></div></div>

<p>stp is to stop looping.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brctl delbr br0
</code></pre></div></div>

<p>will delete the bridge that we created.</p>

<p>virsh net-define is the command needed to create a new virtual network. virsh net-autostart will autostart the virtual network interface at service start. virsh net-start will start the network interface. virsh net-edit will open up an editor that will let you edit an existing network interface.</p>

<ul>
  <li>KVM (Kernel Based Virtual Machine)</li>
</ul>

<p>Hypervisor - two types</p>

</li><li><span class="post-meta">Aug 30, 2019</span>
      <h3>
        <a class="post-link" href="/sysadmin/2019/08/30/terraforming-loops.html">
          Terraform and Loops - creating multiple resources
          

        </a>
      </h3><p>Terraform is a great tool for creating infrastructure. It’s almost becoming the ‘de-facto’ standard. This post will outline how to create multiple resources with just one code block.</p>

<p>The oldest form of looping through a Terraform code block is the <code class="highlighter-rouge">count</code> primitive. By defining this, the run of terraform will loop over that resource for the count that has been defined. However, when defining names, the count will need to be used to name the resoure, as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resource "aws_instance" "instance" { 
  count  = 3 
  name   = "web-${count.index}"
  ami    = "ami-1234567" 
}
</code></pre></div></div>

<p>This will create three ec2 instances, with names of <code class="highlighter-rouge">web-0</code>, <code class="highlighter-rouge">web-1</code> and <code class="highlighter-rouge">web-3</code>.</p>

<p>Once you use count on a resource, it becomes a list of resources. So in this case <code class="highlighter-rouge">aws_instance.instance</code> is now a list of ec2 instances. If you want to refer to one of the instances then you must use the notation <code class="highlighter-rouge">aws_instance.instance[0]</code>.</p>

<p>If you wish to refer to all resources in a list, then you will need to use the splat, as in: 
    <code class="highlighter-rouge">aws_instance.instance[*].id</code></p>

<p>Which will return all the ids of the instances created above.</p>

<h2 id="limitations">Limitations</h2>

<p>If you remove items from a list, then the list will rename items. Imagine having instances and then removing the id to one of them. In a list of instances, if you delete the first one (element [0]) from the list variable, instead of deleting that resource, it will remain, but renamed under the second item in the list (element [1]).</p>
</li><li><span class="post-meta">Jul 28, 2019</span>
      <h3>
        <a class="post-link" href="/ruby/2019/07/28/arrays-with-ruby.html">
          Ruby Arrays
          

        </a>
      </h3><p>Ruby has extensive coverage for arrays (sometimes called lists if you are coming from a Python background). Arrays are for collecting information all in one place, or in a list. Arrays are sequential, which means that they don’t change order once set. Arrays are mutable (they can change items in the list).</p>

<h3 id="declaring-an-array">Declaring an Array</h3>

<p>Here is an example of an array:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scores = [14, 12, 4, 20, 19]
</code></pre></div></div>

<p>These scores can be for a particular person in a particular test or activity.</p>

<p>Items in the list are called like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>puts scores[4]
</code></pre></div></div>

<p>This will return the 5th element from the array, as the first element is numbered 0 (i.e. <code class="highlighter-rouge">scores[0]</code>)</p>

<h3 id="adding-a-new-element-to-the-array">Adding a new element to the array</h3>

<p>You may want to add another new item/variable to the array. To do this you append to the array:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scores.append(5)
</code></pre></div></div>

<p>This will add a new score to the array and returns the whole array.</p>

<h3 id="delete-from-the-array">Delete from the array</h3>

<p>There are at least two main ways that you can delete from an array. The first is to delete a particular item value from the array:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scores.delete(5)
</code></pre></div></div>

<p>will remove any item from the array that are equal to 5. The second is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scores.delete_at(0) 
</code></pre></div></div>

<p>which removes from the positional index in the array (0 being the first element).</p>

</li><li><span class="post-meta">Jul 18, 2019</span>
      <h3>
        <a class="post-link" href="/ruby/2019/07/18/learning-ruby-case-statements.html">
          Case Statements in Ruby - Learning Ruby 3
          

        </a>
      </h3><p>If you are coming from using python, then you will be used to using a lot of <code class="highlighter-rouge">if...elif...else</code> statements to catch conditions in variables. Sometimes this can be tedious - in Ruby it is easier to use <code class="highlighter-rouge">case</code> statements.</p>

<p>Let’s assume that you are checking for ages of people and want to classify them according to their age (it might be a sceranio of runners in a race and you want to find out who won each age range). Here you can use <code class="highlighter-rouge">when</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>group = ""
age = gets.chomp.to_i
case age
when 0..17
  group = "Under 18s"
when 18..25
  group = "18s to 25s"
when 26..30
  group = "26s to 30"
when 30..Float::INFINITY
  group = "Over 30s"
end
puts group
</code></pre></div></div>

<p>This allows us to somewhat simplify the conditions that might come about from different ages.</p>
</li><li><span class="post-meta">Jun 21, 2019</span>
      <h3>
        <a class="post-link" href="/ruby/2019/06/21/learning-ruby-part2.html">
          Strings in Ruby - Learning Ruby 2
          

        </a>
      </h3><p>Ruby has great string support. This post summarises the functions that are available.</p>

<p>This is not designed to be a tutorial for others, but rather a record for myself in learning Ruby.</p>

<h4 id="downcase">.downcase</h4>

<p>This method turns any characters in a string to lowercase.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = "My String".downcase 
</code></pre></div></div>

<p>returns</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"my string"
</code></pre></div></div>

<h4 id="upcase">.upcase</h4>

<p><code class="highlighter-rouge">.upcase</code> method does the opposite of downcase. It will change the case of any lowercase characters to uppercase.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"My String".upcase
</code></pre></div></div>

<p>returns</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"MY STRING"
</code></pre></div></div>

<h4 id="gsub">.gsub</h4>

<p><code class="highlighter-rouge">.gsub</code> is a way of substituting text in one string for a different string.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Hello".gsub("ell", "orr")
</code></pre></div></div>

<p>returns</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Horro"
</code></pre></div></div>

<h3 id="string-interpolation">String Interpolation</h3>

<p>This is potentially the most useful way of working with strings when outputting them.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>first_name = "Foo"
surname = "Bar"
puts "Hello #{first_name} #{surname}
</code></pre></div></div>

<h3 id="string-methods">String Methods</h3>

<p>There are a whole host of methods for strings. You can see them all with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"".methods
</code></pre></div></div>

<p>This will display all the methods that are available for a string. One of the most important ones is <code class="highlighter-rouge">.chomp</code>.</p>

<p>Firstly, we will get a string with the command <code class="highlighter-rouge">gets</code> - this stands for get string.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>puts "What is your name?" 
gets = name
</code></pre></div></div>

<p>Once you run this you will get a string with the name that you enter and a <code class="highlighter-rouge">\n</code> on the end - the newline character. This can be annoying, but <code class="highlighter-rouge">.chomp</code> will remove this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gets = name.chomp
</code></pre></div></div>

<p>This means that the string has the newline character removed.</p>

<h4 id="count">.count</h4>

<p>If you wish to count the amount of times a set of characters appear in a string, use the <code class="highlighter-rouge">.count</code> method.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"banana".count("a")
</code></pre></div></div>

<p>will return the number <code class="highlighter-rouge">3</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"banana".count("ba") 
</code></pre></div></div>

<p>will return <code class="highlighter-rouge">4</code>.</p>

<h4 id="string-operations">String Operations</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"ban" + "ana" 
</code></pre></div></div>

<p>will return <code class="highlighter-rouge">banana</code>.</p>

<p>You cannot do the same thing with <code class="highlighter-rouge">-</code>.</p>

<h4 id="converting-strings-to-integers">Converting Strings to Integers</h4>

<p>Sometimes you will have a string such as <code class="highlighter-rouge">'1'</code>, but want to add this to an integer variable <code class="highlighter-rouge">2</code>. If you try this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = '1'
b = 2 
p a + b 
</code></pre></div></div>

<p>you will find that you will have a problem as the string does not add easily to the integer. You will see the error:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TypeError (no implicit conversion of Integer into String)
</code></pre></div></div>

<p>To get around this, you need to cast the <code class="highlighter-rouge">a</code> variable to an intger:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = '1'
a.to_i
</code></pre></div></div>

<p>or to do this more succinctly:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = '1'.to_i
</code></pre></div></div>

<p>The <code class="highlighter-rouge">.to_i</code> converts the variable to an integer and the addition will work.</p>

</li></ul>

  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</></p></div>

<!-- Pagination links -->
<div class="pagination">
  
  <a href="/page2/" class="previous">Previous</a>
  
  <span class="page_number ">Page: 3 of 28</span>
  
  <a href="/page4/" class="next">Next</a>
  
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Kabads. Musings, mutterings and murmerings.</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kabads. Musings, mutterings and murmerings.</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kabads</span></a></li><li><a href="https://www.twitter.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kabads</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I worked in education for 20 years and always had a hand in Technology.  I create cloud automation solutions with Infrastructure as Code.</p>
      </div>
    </div>

  </div>

</footer>
<!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
//<![CDATA[
var owa_baseUrl = 'https://home.monkeez.org/owa/';
var owa_cmds = owa_cmds || [];
owa_cmds.push(['setSiteId', '8f339fcf5fd7912384a8bc7f0ccd08e7']);
owa_cmds.push(['trackPageView']);
owa_cmds.push(['trackClicks']);

(function() {
	var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
	owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
	_owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
	var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
}());
//]]>
</script>

</body>

</html>
