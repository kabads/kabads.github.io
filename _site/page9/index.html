<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Page 9 of 28 for Kabads. Musings, mutterings and murmerings. | I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Kabads. Musings, mutterings and murmerings." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<meta property="og:description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<link rel="canonical" href="http://localhost:4000/page9/" />
<meta property="og:url" content="http://localhost:4000/page9/" />
<meta property="og:site_name" content="Kabads. Musings, mutterings and murmerings." />
<link rel="prev" href="http://localhost:4000/page8/" />
<link rel="next" href="http://localhost:4000/page10/" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Kabads. Musings, mutterings and murmerings.","url":"http://localhost:4000/page9/","description":"I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kabads. Musings, mutterings and murmerings." /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kabads. Musings, mutterings and murmerings.</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><p><a href="/categories/cycling.html">Cycling</a> |&nbsp<a href="/categories/education.html">Education</a> |&nbsp<a href="/categories/emacs.html">Emacs</a> |&nbsp<a href="/categories/exercise.html">Exercise</a> |&nbsp<a href="/categories/politics.html">Politics</a> |&nbsp<a href="/categories/reading.html">Reading</a> |&nbsp<a href="/categories/ruby.html">Ruby</a> |&nbsp<a href="/categories/sysadmin.html">Sysadmin</a> |&nbsp</p><h2 class="post-list-heading"></h2>
  <ul class="post-list"><li><span class="post-meta">Dec 22, 2015</span>
      <h3>
        <a class="post-link" href="/sysadmin/2015/12/22/how-to-enable-disk-quotas-linux.html">
          How to enable disk quotas for users
          

        </a>
      </h3><p>Linux allows setting quotas on a filesystem. This will prevent users from using more diskspace than they are allowed. This can also be used to manage group allowances to enforce the allowance for a collection of users. Stopping users from filling up a diskspace can be an important on a shared system as filling up a physical disk drive can bring a system down, or make it unstable.</p>

<h1 id="steps">Steps</h1>

<p>Initially, you will need to mount a filesystem with a ‘usrquota’ or ‘groupquota’ command passed in /etc/fstab. After these have been applied, you will need to remount the drive for the quota to be effective.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> /dev/sda3 /home ext4 defaults,usrquota 1 1 

 $ sudo mount -o remount /home
</code></pre></div></div>

<p>Next, run <strong>quotacheck</strong> on the filesystem to set up quotas.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo quotacheck -vu /home
</code></pre></div></div>

<p>Then, set the quotas as active with <strong>quotaon</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo quotaon -vu /home
</code></pre></div></div>

<p>Finally, edit the quota for each user with <strong>edquota</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo edquota someusername
</code></pre></div></div>

<p>You can also add grace periods with edquota, which allows users to plan for their storage needs if they exceed it with a time limit on moving their data.</p>

<p>When using <strong>edquota</strong> if you set a limit to 0 then this will mean that no limit will be enforced for that user or group.</p>
</li><li><span class="post-meta">Dec 5, 2015</span>
      <h3>
        <a class="post-link" href="/sysadmin/2015/12/05/encrypt-a-partition.html">
          Encrypt a partition on Linux
          

        </a>
      </h3><p>An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.</p>

<p>Most systems use the <a href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">Linux Unified Key Setup</a> (LUKS for short) format for encryption and this can be a standard install for most distribution.</p>

<h2 id="steps-for-setting-up-luks">Steps for setting up LUKS</h2>

<h3 id="setting-up-the-drive">Setting up the drive</h3>

<p>Firstly you should have a partition drive that is unmounted and unformatted (no filesystem). The filesystem will be added once encryption has been setup.</p>

<p>You must also have the <strong>cryptsetup</strong> tool install. On Ubuntu, this is achieved with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo aptitude install cryptsetup
</code></pre></div></div>

<p><strong>sudo</strong> must be used for all of these commands.</p>

<p>To set up the drive for LUKS, enter this command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo cryptsetup luksFormat /dev/drive
</code></pre></div></div>

<p>This drive can be a <a href="/sysadmin/2015/08/21/how-to-set-up-lvm-linux.html">Logical Volume Management drive</a>, or some other disk.</p>

<p>After this, you will need to enter “YES” (without quotes) to confirm that you want to encrypt the drive. Note that the response is all uppercase.</p>

<p>Then you will need to enter a passphrase which will be used to encrypt the drive.</p>

<p>You will need to open the drive with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cryptsetup --verbose luksOpen /dev/drive/ SECRET_NAME
</code></pre></div></div>

<p>Replace SECRET_NAME with a name of your choice - this will be referred to later.</p>

<p>Formatting the drive is done as usual</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo mkfs.ext4 /dev/mapper/SECRET_NAME
</code></pre></div></div>

<h3 id="opening-the-drive">Opening the drive</h3>

<p>Mounting the drive for use:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo mount /dev/mapper/SECRET_NAME /mnt/encrypted_disk
</code></pre></div></div>

<h3 id="closing-the-drive-once-finished">Closing the drive once finished</h3>

<p>You must <strong>luksClose</strong> the drive once you have finished writing to it.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo umount /mnt/encrypted_disk

$ sudo cryptsetup luksClose /dev/mapper/SECRET_NAME
</code></pre></div></div>

<p>This will write out all data and finish with it. To reuse you must start again at the step above with <strong>luksOpen</strong> command.</p>

<h3 id="conclusion">Conclusion</h3>

<p>This will encrypt and mount a drive on your machine which will stay safe if you don’t reveal the passphrase to anyone. You can auotmount this at boot, and either be prompted for the passphrase, or have the passphrase stored in a file. However, automatically decrypting and mounting on boot will be a waste of time, as anyone who has access to that machine will already have bypassed the encryption stage.</p>
</li><li><span class="post-meta">Oct 31, 2015</span>
      <h3>
        <a class="post-link" href="/sysadmin/2015/10/31/how-and-why-2-factor-authentication.html">
          How and why you should be using 2 factor authentication
          

        </a>
      </h3><p><a href="https://en.wikipedia.org/wiki/Two-factor_authentication">Two factor authentication</a> provides another layer of security to any sign in for services you use. By enabling 2 factor authentication, you are using another layer of security when signing in. However, this extra layer of security is a physical one, not necessarily digital. The 2 factor authentication requires a particular object which cannot be replicated. This can be the form of a USB key or a mobile phone. Banks have used this before with card readers which produce a particular code. Without the card reader and card you cannot produce a code.</p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/yubikey/8188472266/in/photolist-dtA4wj-aHvbsV-aHvgug-wJWq6w-aHvbLt-aHvbCZ-btbiYN-zH9a8E-aHvbR8-5TkRQn-85uwKS-85roY8-85roA8-85uxj3-85rnGF-85rnCB-67V1ci-aHvbPa-6D1tTY-dtuwC4-dtA4rY-6CWjkK-dtA4A9-6C9tJE-6CWiRk-7o6R3s-aD61qy-4MZZ6R-4Rq6tZ-5272VG-oTMLP1-ejtLZs-dtA4KU-o43Lex-6C4FGg-6C4FDB-egjg7H-ikat1i-a2NWgr-a2RMKh-a2NVRZ-a2NW2K-oivyHA-okkMLL-okvsCU-oivyCL-okfQGT-okfQyM-okkMtb-okfQx4" title="Three YubiKeys"><img src="https://farm9.staticflickr.com/8342/8188472266_df1e448ab9_k.jpg" width="2048" height="1280" alt="Three YubiKeys" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p>There are some simple steps when signing in:</p>

<ol>
  <li>sign in using your regular username and password</li>
  <li>using a different object produce a code and enter that in when signing in.</li>
</ol>

<p>Understanding this is important, because if you do not have the object to hand, you will not be able to sign in, regardless of having your username and password. If you like to sign in regularly without your phone close by, or your USB key, then you will find this service very inconvenient.</p>

<p><a href="http://yubico.com">Yubikey</a> is a form of physical 2 factor authentication which is secure and portable. It is a small USB key that when inserted acts as a keyboard, sending one time passwords to an application. That application hands off the password to a Yubico server who then authenticates whether it was geniune or not. A yubikey can be used on any hardware with a USB port and with later versions (the Yubikey Neo) you can use Near Field Communication (NFC), which means that the hardware only need be close to the other device to transmit a one time password. The Neo version can also store OpenPGP keys which means that you can store encryption keys securely without them ever (being transported through another machine).</p>

<p>The Yubikey is easy to use and set up and provides a very secure way of accessing data in the cloud. You can integrate later versions with Google Apps and Dropbox and access to servers through SSH. By using a service like <a href="https://www.lastpass.com">Lastpass</a>, you can have one master password and a Yubikey to store all your passwords. Lastpass allows you to create unique passwords for every site, each one being randomized and very long. These passwords are particularly secure. Lastpass stores them in an encrypted ‘vault’ which requires you to have a password to access this. By also using a Yubikey, this protects your passwords by having a physical device and a long secure password.</p>

<p>Google also provide two factor authenitcation through an android phone, where you use an app called Google Authenticator (available through the Play Store for free) which creates a code for each machine you log in to in your google account.</p>

<p>By using these methods, you greatly increase your security and chances of being hacked. Using strong passwords through a service like Lastpass means that a malicious user will have a hard job trying to brute force your password. Even if this is successful, the malicious user will only have access to one of your online accounts.</p>
</li><li><span class="post-meta">Oct 18, 2015</span>
      <h3>
        <a class="post-link" href="/sysadmin/2015/10/18/groups-explained.html">
          Linux group explained
          

        </a>
      </h3><p>Users on a linux system belong to at least one group. Groups allow a systems administrator to create parts of the filesystem where a group of users can share files. They also allow a group of users to access particular commands or resources on the system, that other users might not be able to access.</p>

<p>Groups are defined in the <strong>/etc/group</strong> file, which is only root writeable.</p>

<p>To create a group, the <strong>groupadd</strong> command is used.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ groupadd editors
</code></pre></div></div>

<p>will add a group called ‘'’editors’’’. This will automatically set gid (a numerical value for the group’s ID).</p>

<p>You may then add a user to this group with the <strong>usermod</strong> commmand.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ usermod -G editors username
</code></pre></div></div>

<p>Obviously, you can choose a name other than ‘editor’ which better describes the group.</p>

<p>Now, check the membership of the group with the command <strong><em>groups</em></strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ groups username
</code></pre></div></div>

<p>This will show all the groups that the user belongs to. This can be carried out for as many users on the system that you wish to have access to the files (or fileserver).</p>

<p>Now, create a directory with <strong><em>mkdir</em></strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir /path/to/dir
</code></pre></div></div>

<p>Then add that directory to the group that you created:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ chown username.editor /path/to/dir
</code></pre></div></div>

<p>This will add the directory to the group.</p>

<p>Any user who is a member of the group editor will be able to access the directory that is shared. This may or may not include read/write access, depending on the directory and file permissions across the shared directory.</p>
</li><li><span class="post-meta">Sep 10, 2015</span>
      <h3>
        <a class="post-link" href="/2015/09/10/using-git-as-content-manager.html">
          Using Git as a content manager system
          

        </a>
      </h3><p>Not familiar with <a href="https://git-scm.com">git</a>? Start with an <a href="https://git-scm.com/book/en/v1/Getting-Started">online book</a> or <a href="https://git-scm.com/book/en/v1/Getting-Started">Version Control with Git</a>.</p>

<p><a href="https://git-scm.com/">Git</a> is an open sourced source control software system. It allows coders to manage large projects remotely and on their own machine. Each contributor will hold their own version of the code on their machine and can manipulate that however they wish. Eventually, they can push back their contributions to a remote repository.</p>

<p>This workflow design can also be great for managing content, although that content does have to be in text format - git will allow binary files to be uploaded and managed, but doesn’t allow for differences between files to be shown - this can only be done with plain text files.</p>

<p>Git manages differences in a project by creating branches. However, you do not need to create a branch for each new set of content. For example, if you write a new article, you do not need a new branch for this. Within <a href="http://www.jekyllrb.com">Jekyll</a>, you create a _drafts folder and then put your content in there.</p>

<p>Add the new file to your git repository.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add _drafts/your-new-post.md
</code></pre></div></div>

<p>Commit the post:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -am"new post added"
</code></pre></div></div>

<p>To share with multiple authors, set up a remote repository and push to remove:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin master
</code></pre></div></div>

<p>When other contributors/authors start their work, they will pull down the latest changes. They could start work on your contribution if they wished, or they could start their own article.</p>

<p>Obviously, this is a small article and cannot go in to the full details of how git works. Other documentation for git exists - <a href="http://shop.oreilly.com/product/0636920022862.do">Version Control with Git</a>.</p>
</li></ul>

  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</></p></div>

<!-- Pagination links -->
<div class="pagination">
  
  <a href="/page8/" class="previous">Previous</a>
  
  <span class="page_number ">Page: 9 of 28</span>
  
  <a href="/page10/" class="next">Next</a>
  
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Kabads. Musings, mutterings and murmerings.</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kabads. Musings, mutterings and murmerings.</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kabads</span></a></li><li><a href="https://www.twitter.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kabads</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I worked in education for 20 years and always had a hand in Technology.  I create cloud automation solutions with Infrastructure as Code.</p>
      </div>
    </div>

  </div>

</footer>
<!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
//<![CDATA[
var owa_baseUrl = 'https://home.monkeez.org/owa/';
var owa_cmds = owa_cmds || [];
owa_cmds.push(['setSiteId', '8f339fcf5fd7912384a8bc7f0ccd08e7']);
owa_cmds.push(['trackPageView']);
owa_cmds.push(['trackClicks']);

(function() {
	var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
	owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
	_owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
	var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
}());
//]]>
</script>

</body>

</html>
