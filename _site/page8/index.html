<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Page 8 of 28 for Kabads. Musings, mutterings and murmerings. | I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Kabads. Musings, mutterings and murmerings." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<meta property="og:description" content="I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code." />
<link rel="canonical" href="http://localhost:4000/page8/" />
<meta property="og:url" content="http://localhost:4000/page8/" />
<meta property="og:site_name" content="Kabads. Musings, mutterings and murmerings." />
<link rel="prev" href="http://localhost:4000/page7/" />
<link rel="next" href="http://localhost:4000/page9/" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Kabads. Musings, mutterings and murmerings.","url":"http://localhost:4000/page8/","description":"I worked in education for 20 years and always had a hand in Technology. I create cloud automation solutions with Infrastructure as Code.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kabads. Musings, mutterings and murmerings." /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kabads. Musings, mutterings and murmerings.</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><p><a href="/categories/cycling.html">Cycling</a> |&nbsp<a href="/categories/education.html">Education</a> |&nbsp<a href="/categories/emacs.html">Emacs</a> |&nbsp<a href="/categories/exercise.html">Exercise</a> |&nbsp<a href="/categories/politics.html">Politics</a> |&nbsp<a href="/categories/reading.html">Reading</a> |&nbsp<a href="/categories/ruby.html">Ruby</a> |&nbsp<a href="/categories/sysadmin.html">Sysadmin</a> |&nbsp</p><h2 class="post-list-heading"></h2>
  <ul class="post-list"><li><span class="post-meta">Aug 12, 2016</span>
      <h3>
        <a class="post-link" href="/leisure/2016/08/12/cuba.html">
          Cuba
          

        </a>
      </h3><p>Having gone to one of the best destinations I’ve probably ever been to, I felt the need to document it in a more formal way. I was inspired by the Cuban culture and vibrant life to record some of the sights I’d seen.</p>

<p><em>I like the achitecture of buildings. Once they were part of the finery of Havana, but since then, people don’t have the money to upkeep this kind of large building, hence its appearance.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28838840536/in/album-72157669287024353/" title="P1050050"><img src="https://c1.staticflickr.com/9/8544/28838840536_e0769e8618_z.jpg" width="640" height="480" alt="P1050050" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>There was a place where dogs were wearing tags - apparently, it is to stop dog theft. These dogs chased a guy down the road and then came back to their bar.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28794244121/in/album-72157669287024353/" title="P1050092"><img src="https://c2.staticflickr.com/9/8854/28794244121_4b216b7b7a_z.jpg" width="640" height="480" alt="P1050092" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>Again, the contrast of poor versus rich.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28585552330/in/album-72157669287024353/" title="P1050103"><img src="https://c3.staticflickr.com/9/8509/28585552330_ca8e1b1e29_z.jpg" width="480" height="640" alt="P1050103" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>This is the national trade building. If your company outside wants to trade within or with Cuba, they must report here and create the agreement. The agreement is weighted heavily in favour of the government (51%).</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28870050595/in/album-72157669287024353/" title="P1050113"><img src="https://c4.staticflickr.com/9/8152/28870050595_c5be2d008d_z.jpg" width="640" height="480" alt="P1050113" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>We climbed the tower at Church of St. Francis.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28585538280/in/album-72157669287024353/" title="P1050124"><img src="https://c1.staticflickr.com/9/8871/28585538280_8705a29a2a_z.jpg" width="640" height="480" alt="P1050124" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28765349962/in/album-72157669287024353/" title="P1050125"><img src="https://c3.staticflickr.com/9/8891/28765349962_4871d65827_z.jpg" width="640" height="480" alt="P1050125" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28252851234/in/album-72157669287024353/" title="P1050128"><img src="https://c3.staticflickr.com/9/8619/28252851234_7bde11b8ea_z.jpg" width="640" height="480" alt="P1050128" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>There appears to be an architectural design where buildings (these are typically hotels) have an atrium in the middle to allow light but also fresh air.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28846321416/in/album-72157669287024353/" title="P1050157"><img src="https://c1.staticflickr.com/9/8868/28846321416_375912149a_z.jpg" width="480" height="640" alt="P1050157" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28593167350/in/album-72157669287024353/" title="P1050135"><img src="https://c7.staticflickr.com/9/8626/28593167350_b2f919c642_z.jpg" width="640" height="480" alt="P1050135" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28593165190/in/album-72157669287024353/" title="P1050140"><img src="https://c7.staticflickr.com/9/8847/28593165190_0345cf747e_z.jpg" width="480" height="640" alt="P1050140" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28877499995/in/album-72157669287024353/" title="P1050141"><img src="https://c4.staticflickr.com/9/8065/28877499995_dc8cfb7eaa_z.jpg" width="640" height="480" alt="P1050141" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28772930142/in/album-72157669287024353/" title="P1050145"><img src="https://c7.staticflickr.com/9/8864/28772930142_3aacbd031a_z.jpg" width="480" height="640" alt="P1050145" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>A guy built this for his wife as a birthday present. It’s now a hotel.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28802060281/in/album-72157669287024353/" title="P1050148"><img src="https://c2.staticflickr.com/9/8576/28802060281_794c1d21f0_z.jpg" width="480" height="640" alt="P1050148" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>Ernest Hemmingway’s room - this is a fishing competition that he held alongside Fidel.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28260481774/in/album-72157669287024353/" title="P1050163"><img src="https://c7.staticflickr.com/9/8813/28260481774_169b0e3078_z.jpg" width="640" height="480" alt="P1050163" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>The cathedral.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28846386496/in/album-72157669287024353/" title="P1050171"><img src="https://c1.staticflickr.com/9/8646/28846386496_6248cbe55f_z.jpg" width="640" height="480" alt="P1050171" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28260707814/in/album-72157669287024353/" title="P1050204"><img src="https://c7.staticflickr.com/9/8242/28260707814_2e8438b053_z.jpg" width="480" height="640" alt="P1050204" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>Some propaganda from the <a href="https://en.wikipedia.org/wiki/Museum_of_the_Revolution_(Cuba)">Revolution Museum</a> (which is held in the pre-revolution presidential house).</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28877965525/in/album-72157669287024353/" title="P1050219"><img src="https://c6.staticflickr.com/9/8803/28877965525_75641ba220_z.jpg" width="480" height="640" alt="P1050219" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28773430842/in/album-72157669287024353/" title="P1050235"><img src="https://c3.staticflickr.com/9/8688/28773430842_bb7799ee0b_z.jpg" width="480" height="640" alt="P1050235" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28773544442/in/album-72157669287024353/" title="P1050255"><img src="https://c3.staticflickr.com/9/8826/28773544442_e50c9850b5_z.jpg" width="640" height="480" alt="P1050255" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em><a href="https://en.wikipedia.org/wiki/Floridita">Floridita</a>- the home of Daiquiri.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28802671321/in/album-72157669287024353/" title="P1050262"><img src="https://c2.staticflickr.com/9/8697/28802671321_2a8acf7264_z.jpg" width="640" height="480" alt="P1050262" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>Lots of houses suffer from flooding when there is a hurricane. These houses typically aren’t fixed, but people still continue to live in them. This is espeically true of houses that are down side streets (a house on the sea front is more likely to be fixed quickly as the government know that tourist are more likely to see them).</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28260940894/in/album-72157669287024353/" title="P1050275"><img src="https://c7.staticflickr.com/9/8086/28260940894_2d2b6d3725_z.jpg" width="640" height="480" alt="P1050275" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28846910046/in/album-72157669287024353/" title="P1050278"><img src="https://c7.staticflickr.com/9/8458/28846910046_a52d7cfbd2_z.jpg" width="640" height="480" alt="P1050278" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28593819300/in/album-72157669287024353/" title="P1050293"><img src="https://c5.staticflickr.com/9/8259/28593819300_00e1efe797_z.jpg" width="640" height="480" alt="P1050293" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28593818630/in/album-72157669287024353/" title="P1050294"><img src="https://c7.staticflickr.com/9/8766/28593818630_1ed694b0f9_z.jpg" width="640" height="480" alt="P1050294" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28878083875/in/album-72157669287024353/" title="P1050296"><img src="https://c4.staticflickr.com/8/7798/28878083875_12955c9fe0_z.jpg" width="640" height="480" alt="P1050296" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>We saw a band that had members of the Buena Vista Social Club.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28846983446/in/album-72157669287024353/" title="P1050307"><img src="https://c7.staticflickr.com/9/8631/28846983446_39f15d65fd_z.jpg" width="640" height="480" alt="P1050307" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28261024104/in/album-72157669287024353/" title="P1050321"><img src="https://c1.staticflickr.com/9/8098/28261024104_6a5f436c4c_z.jpg" width="640" height="480" alt="P1050321" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<hr />
<p><em>This couple work together to make hats. He is blind but still manages to weave the palms together.</em></p>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/kabads/28878123155/in/album-72157669287024353/" title="P1050324"><img src="https://c4.staticflickr.com/9/8068/28878123155_08782d2000_z.jpg" width="640" height="480" alt="P1050324" /></a><script async="" src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"></script></p>

<p>Please feel free to leave a comment below.</p>
</li><li><span class="post-meta">Jul 3, 2016</span>
      <h3>
        <a class="post-link" href="/cycling/2016/07/03/cycling-trying-a-climb.html">
          Trying a climb
          

        </a>
      </h3><p>This afternoon, I met up with a few friends at a local pub. It was great catching up with everyone, but what also great was that afterwards, I planned to cycle some 15km to one of the largest hills around. I wanted to see what it was like to climb roughly 150m up a hill. And find out, I did. I didn’t quite make it all the way to the top without stopping, but I got to the top with one break just near the top. Needless to say, I will be going back to see how I fare next time.</p>

<iframe height="405" width="590" frameborder="0" allowtransparency="true" scrolling="no" src="https://www.strava.com/activities/628796618/embed/cf7f7a8ff082a2cbf3b865585ce228704a6bbd67"></iframe>
</li><li><span class="post-meta">Feb 20, 2016</span>
      <h3>
        <a class="post-link" href="/sysadmin/2016/02/20/using-sed.html">
          Using sed
          

        </a>
      </h3><p><em>sed</em> is a quick command line utility to change text within a file, or input stream. Typically, it is used within a pipe situation (i.e. using the character | on the command line). If you are not familiar with that command, you will need to research that before continuing.</p>

<p>A simple use of <em>_sed_</em> is to replace characters in a stream or file. This is done using <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expressions</a>. This will help you search for a set of characters and then replace them with the alternative. This is done using the <strong><em>s</em></strong> command.</p>

<h3 id="replacing-text-with-sed">Replacing text with <strong>sed</strong></h3>
<p>Probably, the most common use of sed is to replace text. This is achieved through by:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed s/textToFind/newText filename
</code></pre></div></div>

<p>This will search for the first occurance on each line. If that search string is found twice on a line, the second instance will be ignored. To get around this you need to add a global flag to the end of the command as such:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed s/textToFind/newText/g filename
</code></pre></div></div>

</li><li><span class="post-meta">Jan 24, 2016</span>
      <h3>
        <a class="post-link" href="/sysadmin/2016/01/24/bash-find-command.html">
          Bash find command
          

        </a>
      </h3><p>I’ve been using the find command simply since I can remember, but I’ve never really got to see the true power of this command. Combined with the -exec flag this command can throw up a lot of different uses. -exec allows you to work with other bash commands and operate on them.</p>

<p>A basic use would look like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ find . -name "*" -type f -size +10M -exec rm {} \;
</code></pre></div></div>

<p>Let’s break this down. The first full-stop (sometimes called a period) tells the command which directory to work on - in this case, the current directory.</p>

<p>The second flag, <strong>-name</strong>, tells the command which file we are looking for. In this case the wildcard <strong>*</strong> will search all files in the directory.</p>

<p>The third falg, <strong>-type f</strong> directs that we are only looking for files (i.e. do not carry out this command on directories).</p>

<p>The fourth flag, <strong>-size +10M</strong> states that we are looking for files which are 10MB or greater.</p>

<p>Here comes the magic - the <strong>–exec</strong> flag does the grunt of the work. It will execute the <strong>rm</strong> (remove) command on the file which is denoted by <strong>{}</strong>.</p>

<p>Finally, we finish off the whole script with a <strong>\;</strong>, which is required due to using the <strong>-exec</strong> flag. You can string more than one <strong>-exec</strong> flag together after this semi-colon to carry out more than one command.</p>

</li><li><span class="post-meta">Dec 24, 2015</span>
      <h3>
        <a class="post-link" href="/sysadmin/2015/12/24/setting-up-firewall.html">
          Setting up a firewall on Linux Ubuntu 14.04
          

        </a>
      </h3><p>This post walks throug the steps needed to set up a firewall on Ubuntu 14.04. Note that 14.04 is now end of life.</p>

<h2 id="uses">Uses</h2>
<p>Firewalls allow only particular access to particular network ports and paths. You can remove access to a port or a specific IP address or a range of IP addresses.</p>

<p>Admins can apply rules according to what access they would like - these rules include both outgoing and incoming network traffic. This allows admins to build barriers of trust across machines.</p>

<p>Modern firewalls are based on <a href="https://en.wikipedia.org/wiki/Application_firewall"><em>Application Layer Firewalls</em></a> and are aware of the kinds of applications and protocols that the connection is using. They can block anything which is not part of the normal flow of traffic.</p>

<h2 id="set-up">Set up</h2>

<p>The <strong>firewalld</strong> package needs to be installed:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo aptitude install firewalld 
</code></pre></div></div>

<p>You should not run the program <strong>iptables</strong> alongside <strong>firewalld</strong> as this is the older version and will create a conflict.</p>

<p><strong>firewalld</strong> is a service which needs to be running to use and configure the firewall, and is started in the usual way.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo /etc/init.d/firewalld start 
</code></pre></div></div>

<p>You can test if the service is running with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --state
</code></pre></div></div>

<p>If you have more than one network interface on IPV4, you will need to turn on <strong>ip forwarding</strong>. This is achieved with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo sysctl net.ipv4.ip_forward=1
</code></pre></div></div>

<p>However, this is not persistent across boots. To achieve this, you will need to add the following line to <em>/etc/sysctl.conf</em>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>net.ipv4.ip_forward=1 
</code></pre></div></div>

<p>and then reboot or type:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo sysctl -p 
</code></pre></div></div>

<p>to read in the new setting.</p>

<h3 id="zones">Zones</h3>

<p>Firewalls work with <strong>zones</strong> each which has a level of trust defined. The zones are</p>

<ul>
  <li><strong>drop</strong> - only particular incoming connections are allowed</li>
  <li><strong>block</strong> - all incoming connections are rejected</li>
  <li><strong>public</strong> - do not trust any computers on the network; only defined incoming connections are permitted</li>
  <li><strong>external</strong> - used when <em>masquerading</em> is being used, usually in routers.</li>
  <li><strong>dmz</strong> - used when access is allowed only to some services to the public.</li>
  <li><strong>work</strong> - trust connected nodes to be not harmful</li>
  <li><strong>home</strong> - mostly trust other network nodes, but still select which incoming connections are allowed</li>
  <li><strong>internal</strong> - similar to work zone</li>
  <li><strong>trusted</strong> - everything is allowed.</li>
</ul>

<p>On installation, nearly all Linux distributions will select the <strong>public</strong> zone as the default for all interfaces.</p>

<p>Get the default zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --get-default-zone
</code></pre></div></div>

<p>Obtain a list of zones being used:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --get-active-zones 
</code></pre></div></div>

<p>List all available zones:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --get-zones 
</code></pre></div></div>

<p>To change the default zone to <strong>trusted</strong> and then change it back.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --set-default-zone=trusted

$ sudo firewall-cmd --set-default-zone=public
</code></pre></div></div>

<p>To assign an interface temporarily to a particular zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --zone=internal --change-interface=eth0
</code></pre></div></div>

<p>This will only change the interface until the next boot. To make it permanent, we add the <strong>–permanent</strong> flag.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --permanent --zone=internal --change-interface=eth0
</code></pre></div></div>

<p>which will create a file in <strong>/etc/firewalld/zones/internal.xml</strong>.</p>

<p>To ascertain the zone associated with a particular interface:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --get-zone-of-interface=eth0
</code></pre></div></div>

<p>To get the details of a particular zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --zone=public --list-all 
</code></pre></div></div>

<p>An admin can also bind a zone to a network address (as well as an interface).</p>

<p>To bind a source to a zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --permanent --zone=trusted --add-source=192.168.1.0/24
</code></pre></div></div>

<p>With this command, anyone from address 192.168.1.x will be added to the <strong>trusted</strong> zone.</p>

<h3 id="services-and-ports-within-a-zone">Services and ports within a zone</h3>

<p>Setting zones is now possible, but for these to become effective, we need to set particular services within each zone.</p>

<p>We can see what services are associated with a particular zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --list-services --zone=public
</code></pre></div></div>

<p>To add a service to a zone:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --permanent --zone=work --add-service=http
$ sudo firewall-cmd --reload 
</code></pre></div></div>

<p><strong>–reload</strong> is required to make the change effective and <strong>–permanent</strong> is required to add a service to a zone.</p>

<p>Port management is very similar:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo firewall-cmd --zone=work --add-port=21/tcp
$ sudo firewall-cmd --reload 
</code></pre></div></div>

<p>You can also remove these with the commands <strong>–remove-service</strong> and <strong>–remove-port</strong>.</p>
</li></ul>

  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</></p></div>

<!-- Pagination links -->
<div class="pagination">
  
  <a href="/page7/" class="previous">Previous</a>
  
  <span class="page_number ">Page: 8 of 28</span>
  
  <a href="/page9/" class="next">Next</a>
  
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Kabads. Musings, mutterings and murmerings.</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kabads. Musings, mutterings and murmerings.</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kabads</span></a></li><li><a href="https://www.twitter.com/kabads"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kabads</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I worked in education for 20 years and always had a hand in Technology.  I create cloud automation solutions with Infrastructure as Code.</p>
      </div>
    </div>

  </div>

</footer>
<!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
//<![CDATA[
var owa_baseUrl = 'https://home.monkeez.org/owa/';
var owa_cmds = owa_cmds || [];
owa_cmds.push(['setSiteId', '8f339fcf5fd7912384a8bc7f0ccd08e7']);
owa_cmds.push(['trackPageView']);
owa_cmds.push(['trackClicks']);

(function() {
	var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
	owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
	_owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
	var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
}());
//]]>
</script>

</body>

</html>
